# Polymaster

A high-conviction monitoring and copy-trading platform for Polymarket and Kalshi. Polymaster combines low-latency Rust detection with LLM-powered market mapping and Python-based execution to mirror whale activity.

## üèóÔ∏è Architecture

Polymaster is a multi-component ecosystem designed for speed and intelligence:

1.  **Whale Watcher (Rust)**: The core engine that monitors Polymarket and Kalshi for large trades, anomalies, and repeat actors. Handles high-speed WebSocket connections and SQLite persistence.
2.  **Polymaster Bot (Python)**: The execution and tracking layer.
    - **PnL Tracker**: Monitors Kalshi portfolio and simulates shadow trades.
    - **Semantic Matcher**: Uses local LLMs (Ollama) to match Polymarket events to active Kalshi markets.
    - **Kalshi Executor**: Executes trades on Kalshi based on whale signals.
3.  **Dashboard (Node.js)**: A React/Express-based real-time visualizer for alerts, PnL charts, and active positions.
4.  **AI Integration (Node.js)**: Enriches alerts with Perplexity research, RapidAPI data, and structured scoring.

---

## üöÄ Quick Start

The fastest way to get Polymaster running is using the unified launch script:

```bash
# 1. Clone the repository
git clone https://github.com/neur0map/polymaster.git
cd polymaster

# 2. Configure environment (see Configuration section)
cp .env.example .env 

# 3. Launch everything
./launch.sh
```

- **Dashboard**: [http://localhost:3000](http://localhost:3000)
- **Logs**:
    - Rust Watcher: `watcher_rust.log`
    - Dashboard: `dashboard.log`
    - PnL Tracker: `pnl_tracker.log`

---

## üêã Components

### 1. Whale Watcher (Rust)
Real-time monitoring of Polymarket and Kalshi transactions with anomaly detection.
- **Key Features**: WebSocket support, 12-hour wallet memory, top holder analysis, and configurable thresholds.
- **CLI**: `wwatcher watch`, `wwatcher history`, `wwatcher setup`.
- See [README.md (Legacy)](docs/README_RUST.md) for detailed Rust documentation.

### 2. Python Bot & PnL Tracker
Handles the strategy and execution logic.
- **PnL Tracker**: Tracks real and shadow portfolio performance.
- **Ollama Integration**: Uses `qwen2.5-coder` or `llama3` for market matching.
- **Script**: `python3 pnl_tracker.py`
- See [PYTHON_BOT_README.md](PYTHON_BOT_README.md) for more details.

### 3. AI Integration
Deep research layer for whale alerts.
- **Research**: Perplexity-powered market context.
- **Scoring**: Tiers alerts (High/Medium/Low) based on whale win-rate and trade size.
- **Skill**: Includes an OpenClaw skill for natural language interaction.
- See [integration/README.md](integration/README.md).

---

## ‚öôÔ∏è Configuration

Polymaster uses a hybrid configuration system:

1.  **.env (Root)**: Used by the Python Bot and Dashboard.
    ```env
    KALSHI_API_KEY_ID=...
    KALSHI_PRIVATE_KEY_PATH=...
    OLLAMA_URL=http://localhost:11434
    STARTING_BANKROLL=67.22
    LIVE_TRADING_ENABLED=false
    ```
2.  **config.json (`~/.config/wwatcher/`)**: Used by the Rust component.
    - Run `wwatcher setup` for a guided wizard.

---

## üìù Documentation

- [QUICKSTART.md](QUICKSTART.md) ‚Äî Comprehensive setup guide.
- [docs/API_REFERENCE.md](docs/API_REFERENCE.md) ‚Äî Documentation for 15+ used endpoints.
- [docs/WEBHOOK_REFERENCE.md](docs/WEBHOOK_REFERENCE.md) ‚Äî Webhook schema for third-party integrations.
- [instructions_for_ai_agent.md](instructions_for_ai_agent.md) ‚Äî Guide for interacting with the AI system.

## ‚öñÔ∏è License & Disclaimer
This tool is for informational and research purposes only. Use this data solely for informed decision-making and market analysis.
